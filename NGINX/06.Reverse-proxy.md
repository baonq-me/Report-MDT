# Cấu hình Nginx làm Reverse proxy.

Proxying thường được dùng để chia tải cho nhiều server, hiển thị thống nhất nội dung của nhiều website, hoặc chuyển request đến application server thông qua các giao thức khác ngoài HTTP.

## Chuyển một request đến một server.
Khi Nginx chuyển hướng một yêu cầu, nó gửi yêu cầu đến server được xác định. Nó có thể chuyển hướng request của một HTTP server(ví dụ Nginx, apache) hoặc server không phải HTTP(như là các ứng dụng được triển khai sử dụng Python hoặc PHP) sử dụng một giao thức được chỉ định. Các giao thức được hỗ trợ là FastCGI, uwsgi, SCGI, và memcached.

Để chuyển hướng một HTTP requests, chỉ thị `proxy_pass` được chỉ định bên trong chỉ thị `location`.
```
location /some/path/ {
    proxy_pass http://www.example.com/link/;
}
```
Có thể cấu hình server được chuyển hướng đến bằng domain name, địa chỉ ip và cũng có thể chỉ định port.
```
location ~ \.php {
    proxy_pass http://127.0.0.1:8000;
}
```

Để chuyển hướng các request không phải là HTTP, sử dụng các chỉ thị sau:
- `fastcgi_pass` passes a request to a FastCGI server
- `uwsgi_pass` passes a request to a uwsgi server
- `scgi_pass` passes a request to an SCGI server
- `memcached_pass` passes a request to a memcached server 

`proxy_pass` có thể chỏ đến một nhóm server để [load balancing](./05.Load-balacer.md).

## Chuyển hướng header của request.
Mặc định, NGINX định nghĩa lại hai giá trị header của gói tin được chuyển hướng là `Host` và `Connection` và loại bỏ các trường giá trị chống. Host được thiết lập là biến  `$proxy_host`, và "Connection" thiết lập là `close`.

Có thể cấu hình các header bằng chỉ thị `proxy_set_header`
